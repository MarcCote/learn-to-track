#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import os
import sys

# Hack so you don't have to put the library containing this script in the PYTHONPATH.
sys.path = [os.path.abspath(os.path.join(__file__, '..', '..'))] + sys.path

import argparse

from learn2track import neurotools
from learn2track.utils import Timer

def build_parser():
    DESCRIPTION = ("Display information about datasets.")
    p = argparse.ArgumentParser(description=DESCRIPTION)

    p.add_argument('datasets', metavar='dataset', nargs='+',
                   help='NPZ files, each one containing a datasset (as generated by `process_streamlines.py`).')
    return p


def main():
    parser = build_parser()
    args = parser.parse_args()

    for f in args.datasets:
        with Timer("Loading dataset '{}'".format(f)):
            tractography_data = neurotools.TractographyData.load(f)

        print(tractography_data)


if __name__ == "__main__":
    main()
